<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Chuc mung ngay 8/3</title>
    <link type="text/css" rel="stylesheet" href="./asset/style.css">
    <script type="text/javascript" src="./asset/jquery.min.js"></script>
    <script type="text/javascript" src="./asset/jscex.min.js"></script>
    <script type="text/javascript" src="./asset/jscex-parser.js"></script>
    <script type="text/javascript" src="./asset/jscex-jit.js"></script>
    <script type="text/javascript" src="./asset/jscex-builderbase.min.js"></script>
    <script type="text/javascript" src="./asset/jscex-async.min.js"></script>
    <script type="text/javascript" src="./asset/jscex-async-powerpack.min.js"></script>
    <script type="text/javascript" src="./asset/functions.js" charset="utf-8"></script>
    <script type="text/javascript" src="./asset/love.js" charset="utf-8"></script>
    <style>
        /* CSS cho ch·∫ø ƒë·ªô xoay ngang */
        @media screen and (orientation: portrait) {
            .rotate-notice {
                display: flex;
            }
            #main {
                display: none;
            }
        }
        
        @media screen and (orientation: landscape) {
            .rotate-notice {
                display: none;
            }
            #main {
                display: block;
            }
        }
        
        .rotate-notice {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffe;
            z-index: 9999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 24px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
        
        .rotate-icon {
            width: 64px;
            height: 64px;
            margin-bottom: 20px;
            animation: rotate 1.5s infinite ease-in-out;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(90deg); }
            50% { transform: rotate(90deg); }
            75% { transform: rotate(90deg); }
            100% { transform: rotate(0deg); }
        }
        
        /* Mobile-friendly styles */
        body {
            margin: 0;
            padding: 0;
            background: #ffe;
            font-size: 14px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #231f20;
            overflow: hidden;
            width: 100%;
            height: 100%;
            position: fixed;
        }
        
        #main {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        
        #wrap {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            max-width: 1100px;
            max-height: 680px;
        }
        
        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        #text {
            position: absolute;
            width: 35%;
            height: auto;
            left: 5%;
            top: 12%;
            z-index: 100;
        }
        
        #code {
            display: none;
            font-size: 16px;
        }
        
        .say {
            margin-left: 5px;
            font-size: 0.9em;
            line-height: 1.3em;
        }
        
        .space {
            margin-right: 15%;
        }
    </style>
</head>

<body>
    <div class="rotate-notice">
        <div class="rotate-icon">üì±‚ÜîÔ∏è</div>
        <p>Vui l√≤ng xoay ƒëi·ªán tho·∫°i sang ngang ƒë·ªÉ xem t·ªët nh·∫•t</p>
    </div>

    <div id="main">
        <div id="wrap">
            <div id="text" style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif ;">
                <div id="code">
                    <font color="#000"><span class="say">Ch√∫c m·ª´ng 8/3 ƒë·∫øn nh·ªØng b√¥ng hoa r·ª±c r·ª° ƒë√£ l√†m b·∫°n v·ªõi t·ªõ nh·ªØng nƒÉm th√°ng quaaaa!!</span><br>
                        <span class="say"> </span><br>
                        <span class="say">D√π c·∫≠u l√† ai, ƒëang ·ªü ƒë√¢u. M·ªõi quen hay l√† b·∫°n h·ªçc c≈© n√®, t·ªõ ƒë·ªÅu nh·ªõ t·ªõi c√°c c·∫≠u v√† g·ª≠i c√°c c·∫≠u b·ª©c th∆∞ si√™u si√™u cute n√†y.</span><br>
                        <span class="say">Nh√¢n ng√†y 8/3 n√†y, t·ªõ xin ch√∫c c·∫≠u m√£i xinh ƒë·∫πp, ƒë√°ng y√™u, lu√¥n h·∫°nh ph√∫c. Ch√∫c c·∫≠u lu√¥n g·∫∑p may m·∫Øn trong cu·ªôc s·ªëng v√† vui v·∫ª m·ªçi l√∫c m·ªçi n∆°i. N·ª• c∆∞·ªùi c·ªßa c·∫≠u c√≤n s√°ng h∆°n √°nh m·∫∑t tr·ªùi ƒë·∫•yyyyyy.</span><br>
                        <span class="say">Ch√∫c c·∫≠u ng√†y 8/3 th·∫≠t vui v·∫ª v√† tr√†n ƒë·∫ßy s·ª± xinh ƒë·∫πp c√πng v·ªõi nhi·ªÅu y√™u th∆∞∆°ng. </span><br>
                        <span class="say"><span class="space"><img width="100px" height="100px" src="image/tym.png" alt=""><br>
                        <span class="say"><span class="space"></span> --Your friend-- </span>
                    </font>
                    </p>
                </div>
            </div>
            <canvas id="canvas"></canvas>
        </div>
    </div>

    <audio id="myAudio">
        <source src="music/nhac.mp3" type="audio/mp3" />
    </audio>

</body>
<script src="./asset/script.js"></script>
<script>
    // L√†m cho website responsive v√† h·ªó tr·ª£ touch
    (function() {
        // B·ªï sung x·ª≠ l√Ω s·ª± ki·ªán touch cho mobile
        var audioElement = document.getElementById("myAudio");
        
        // ƒê·∫£m b·∫£o audio ch·ªâ ch·∫°y sau khi user t∆∞∆°ng t√°c
        function playAudio() {
            audioElement.play().catch(function(error) {
                console.log("Audio play failed: ", error);
            });
        }
        
        // Th√™m c√°c s·ª± ki·ªán touch
        document.addEventListener("touchstart", playAudio);
        document.addEventListener("click", playAudio);
        
        // ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc canvas v√† s·ª± ki·ªán
        function resizeCanvas() {
            var canvas = document.getElementById("canvas");
            var wrap = document.getElementById("wrap");
            
            // L·∫•y k√≠ch th∆∞·ªõc c·ªßa container
            var containerWidth = wrap.clientWidth;
            var containerHeight = wrap.clientHeight;
            
            // ƒê·∫∑t k√≠ch th∆∞·ªõc canvas
            canvas.width = containerWidth;
            canvas.height = containerHeight;
            
            // Th√¥ng b√°o cho script v·ªÅ thay ƒë·ªïi k√≠ch th∆∞·ªõc
            if (typeof window.canvasResized === 'function') {
                window.canvasResized(containerWidth, containerHeight);
            }
        }
        
        // Chuy·ªÉn ƒë·ªïi s·ª± ki·ªán mouse th√†nh touch
        function setupTouchEvents() {
            var canvas = document.getElementById("canvas");
            
            canvas.addEventListener("touchstart", function(e) {
                if (e.touches.length > 0) {
                    var touch = e.touches[0];
                    var mouseEvent = new MouseEvent("click", {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    });
                    canvas.dispatchEvent(mouseEvent);
                }
                e.preventDefault();
            });
            
            canvas.addEventListener("touchmove", function(e) {
                if (e.touches.length > 0) {
                    var touch = e.touches[0];
                    var mouseEvent = new MouseEvent("mousemove", {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    });
                    canvas.dispatchEvent(mouseEvent);
                }
                e.preventDefault();
            });
        }
        
        // Ki·ªÉm tra n·∫øu l√† thi·∫øt b·ªã di ƒë·ªông
        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        
        // Kh·ªüi t·∫°o khi trang ƒë∆∞·ª£c t·∫£i
        window.addEventListener("load", function() {
            resizeCanvas();
            setupTouchEvents();
            
            // Ki·ªÉm tra xoay m√†n h√¨nh
            window.addEventListener("resize", function() {
                resizeCanvas();
            });
            
            window.addEventListener("orientationchange", function() {
                setTimeout(resizeCanvas, 300); // ƒê·ª£i m·ªôt ch√∫t ƒë·ªÉ m√†n h√¨nh ho√†n t·∫•t vi·ªác xoay
            });
            
            // B·∫≠t audio t·ª± ƒë·ªông sau khi t·∫£i trang ho√†n t·∫•t 
            // (L∆∞u √Ω: Nhi·ªÅu tr√¨nh duy·ªát mobile y√™u c·∫ßu t∆∞∆°ng t√°c ng∆∞·ªùi d√πng)
            if (!isMobile()) {
                playAudio();
            }
        });
    })();
</script>
</html>
